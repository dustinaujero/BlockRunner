/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./game.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./components/setup_game.js":
/*!**********************************!*\
  !*** ./components/setup_game.js ***!
  \**********************************/
/*! exports provided: setupCamera, setupPlayer, setupLight, setupMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupCamera\", function() { return setupCamera; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupPlayer\", function() { return setupPlayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupLight\", function() { return setupLight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupMap\", function() { return setupMap; });\nvar setupCamera = function setupCamera() {\n  var camera = new THREE.PerspectiveCamera(50, 1200 / 720, 0.1, 1000);\n  camera.position.set(0, 5, 5);\n  return camera;\n};\nvar setupPlayer = function setupPlayer(scene) {\n  var shape = new THREE.BoxGeometry(0.5, 0.5, 0.5);\n  var material = new THREE.MeshStandardMaterial({\n    color: 0xFF0000\n  });\n  var player = new THREE.Mesh(shape, material);\n  player.position.set(0, -1.5, 0);\n  player.castShadow = true;\n  player.receiveShadow = true;\n  scene.add(player);\n  return player;\n};\nvar setupLight = function setupLight(scene, ambientLight) {\n  if (ambientLight) {\n    var amb = new THREE.AmbientLight(0xffffff, 1, 0, 0.1, 0, 1);\n    scene.add(amb);\n  }\n\n  var spotLight = new THREE.SpotLight(0xffffff, 50, 0, 0.3, 0, 1);\n  spotLight.position.set(0, 5, 15);\n  spotLight.castShadow = true;\n  spotLight.shadow.mapSize.width = 1024;\n  spotLight.shadow.mapSize.height = 1024;\n  spotLight.shadow.camera.near = 0.0;\n  spotLight.shadow.camera.far = -4000;\n  spotLight.lookAt(new THREE.Vector3(0, 5, 0));\n  scene.add(spotLight);\n  return spotLight;\n};\nvar setupMap = function setupMap(scene) {\n  var floor = new THREE.Mesh(new THREE.PlaneGeometry(15, 250), new THREE.MeshStandardMaterial({\n    color: 0xC8C8C8\n  }));\n  floor.rotation.x -= Math.PI / 2;\n  floor.position.set(0, -3.1, 0);\n  floor.receiveShadow = true;\n  floor.castShadow = true;\n  scene.add(floor);\n  var rightWall = new THREE.Mesh(new THREE.PlaneGeometry(15, 250), new THREE.MeshStandardMaterial({\n    color: 0xffffff,\n    wireframe: false\n  }));\n  rightWall.rotation.x -= Math.PI / 2;\n  rightWall.rotation.y -= Math.PI / 2;\n  rightWall.position.set(7, -2, 0);\n  rightWall.receiveShadow = true;\n  rightWall.castShadow = true;\n  scene.add(rightWall);\n  var leftWall = new THREE.Mesh(new THREE.PlaneGeometry(15, 250), new THREE.MeshStandardMaterial({\n    color: 0xC8C8C8,\n    wireframe: false\n  }));\n  leftWall.rotation.x -= Math.PI / 2;\n  leftWall.rotation.y += Math.PI / 2;\n  leftWall.position.set(-7, -2, 0);\n  leftWall.receiveShadow = true;\n  leftWall.castShadow = true;\n  scene.add(leftWall);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3NldHVwX2dhbWUuanM/MmY0ZiJdLCJuYW1lcyI6WyJzZXR1cENhbWVyYSIsImNhbWVyYSIsIlRIUkVFIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJwb3NpdGlvbiIsInNldCIsInNldHVwUGxheWVyIiwic2NlbmUiLCJzaGFwZSIsIkJveEdlb21ldHJ5IiwibWF0ZXJpYWwiLCJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsImNvbG9yIiwicGxheWVyIiwiTWVzaCIsImNhc3RTaGFkb3ciLCJyZWNlaXZlU2hhZG93IiwiYWRkIiwic2V0dXBMaWdodCIsImFtYmllbnRMaWdodCIsImFtYiIsIkFtYmllbnRMaWdodCIsInNwb3RMaWdodCIsIlNwb3RMaWdodCIsInNoYWRvdyIsIm1hcFNpemUiLCJ3aWR0aCIsImhlaWdodCIsIm5lYXIiLCJmYXIiLCJsb29rQXQiLCJWZWN0b3IzIiwic2V0dXBNYXAiLCJmbG9vciIsIlBsYW5lR2VvbWV0cnkiLCJyb3RhdGlvbiIsIngiLCJNYXRoIiwiUEkiLCJyaWdodFdhbGwiLCJ3aXJlZnJhbWUiLCJ5IiwibGVmdFdhbGwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBTyxJQUFNQSxXQUFXLEdBQUcsU0FBZEEsV0FBYyxHQUFNO0FBQzdCLE1BQU1DLE1BQU0sR0FBRyxJQUFJQyxLQUFLLENBQUNDLGlCQUFWLENBQTRCLEVBQTVCLEVBQWdDLE9BQU8sR0FBdkMsRUFBNEMsR0FBNUMsRUFBaUQsSUFBakQsQ0FBZjtBQUNBRixRQUFNLENBQUNHLFFBQVAsQ0FBZ0JDLEdBQWhCLENBQW9CLENBQXBCLEVBQXVCLENBQXZCLEVBQTBCLENBQTFCO0FBQ0EsU0FBT0osTUFBUDtBQUNILENBSk07QUFNQSxJQUFNSyxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDQyxLQUFELEVBQVc7QUFDbEMsTUFBTUMsS0FBSyxHQUFHLElBQUlOLEtBQUssQ0FBQ08sV0FBVixDQUFzQixH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QUMxQixhQUFULEdBQXlCLElBQXpCO0FBQ0EwQixVQUFRLENBQUMzQixVQUFULEdBQXNCLElBQXRCO0FBQ0FSLE9BQUssQ0FBQ1UsR0FBTixDQUFVeUIsUUFBVjtBQUNILENBL0JNIiwiZmlsZSI6Ii4vY29tcG9uZW50cy9zZXR1cF9nYW1lLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNldHVwQ2FtZXJhID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg1MCwgMTIwMCAvIDcyMCwgMC4xLCAxMDAwKTtcbiAgICBjYW1lcmEucG9zaXRpb24uc2V0KDAsIDUsIDUpO1xuICAgIHJldHVybiBjYW1lcmE7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0dXBQbGF5ZXIgPSAoc2NlbmUpID0+IHtcbiAgICBjb25zdCBzaGFwZSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgwLjUsIDAuNSwgMC41KTtcbiAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweEZGMDAwMCB9KTtcbiAgICBjb25zdCBwbGF5ZXIgPSBuZXcgVEhSRUUuTWVzaChzaGFwZSwgbWF0ZXJpYWwpO1xuICAgIHBsYXllci5wb3NpdGlvbi5zZXQoMCwgLTEuNSwgMCk7XG4gICAgcGxheWVyLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIHBsYXllci5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICBzY2VuZS5hZGQocGxheWVyKTtcbiAgICByZXR1cm4gcGxheWVyO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldHVwTGlnaHQgPSAoc2NlbmUsIGFtYmllbnRMaWdodCkgPT4ge1xuICAgIGlmIChhbWJpZW50TGlnaHQpIHtcbiAgICAgICAgY29uc3QgYW1iID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZiwgMSwgMCwgMC4xLCAwLCAxKTtcbiAgICAgICAgc2NlbmUuYWRkKGFtYik7XG4gICAgfVxuICAgIGNvbnN0IHNwb3RMaWdodCA9IG5ldyBUSFJFRS5TcG90TGlnaHQoMHhmZmZmZmYsIDUwLCAwLCAwLjMsIDAsIDEpO1xuICAgIHNwb3RMaWdodC5wb3NpdGlvbi5zZXQoMCwgNSwgMTUpO1xuICAgIHNwb3RMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICBzcG90TGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSAxMDI0O1xuICAgIHNwb3RMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0O1xuICAgIHNwb3RMaWdodC5zaGFkb3cuY2FtZXJhLm5lYXIgPSAwLjA7XG4gICAgc3BvdExpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gLTQwMDA7XG4gICAgc3BvdExpZ2h0Lmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMygwLCA1LCAwKSk7XG4gICAgc2NlbmUuYWRkKHNwb3RMaWdodCk7ICAgIFxuICAgIHJldHVybiBzcG90TGlnaHQ7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0dXBNYXAgPSAoc2NlbmUpID0+IHtcbiAgICBjb25zdCBmbG9vciA9IG5ldyBUSFJFRS5NZXNoKFxuICAgICAgICBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgxNSwgMjUwKSwgbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4QzhDOEM4IH0pXG4gICAgKTtcbiAgICBmbG9vci5yb3RhdGlvbi54IC09IE1hdGguUEkgLyAyO1xuICAgIGZsb29yLnBvc2l0aW9uLnNldCgwLCAtMy4xLCAwKTtcbiAgICBmbG9vci5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICBmbG9vci5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICBzY2VuZS5hZGQoZmxvb3IpO1xuXG5cbiAgICBjb25zdCByaWdodFdhbGwgPSBuZXcgVEhSRUUuTWVzaChcbiAgICAgICAgbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMTUsIDI1MCksIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweGZmZmZmZiwgd2lyZWZyYW1lOiBmYWxzZSB9KVxuICAgICk7XG4gICAgcmlnaHRXYWxsLnJvdGF0aW9uLnggLT0gTWF0aC5QSSAvIDI7XG4gICAgcmlnaHRXYWxsLnJvdGF0aW9uLnkgLT0gTWF0aC5QSSAvIDI7XG4gICAgcmlnaHRXYWxsLnBvc2l0aW9uLnNldCg3LCAtMiwgMCk7XG4gICAgcmlnaHRXYWxsLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgIHJpZ2h0V2FsbC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICBzY2VuZS5hZGQocmlnaHRXYWxsKTtcblxuXG4gICAgY29uc3QgbGVmdFdhbGwgPSBuZXcgVEhSRUUuTWVzaChcbiAgICAgICAgbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMTUsIDI1MCksIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweEM4QzhDOCwgd2lyZWZyYW1lOiBmYWxzZSB9KVxuICAgICk7XG4gICAgbGVmdFdhbGwucm90YXRpb24ueCAtPSBNYXRoLlBJIC8gMjtcbiAgICBsZWZ0V2FsbC5yb3RhdGlvbi55ICs9IE1hdGguUEkgLyAyO1xuICAgIGxlZnRXYWxsLnBvc2l0aW9uLnNldCgtNywgLTIsIDApO1xuICAgIGxlZnRXYWxsLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgIGxlZnRXYWxsLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIHNjZW5lLmFkZChsZWZ0V2FsbCk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/setup_game.js\n");

/***/ }),

/***/ "./game.js":
/*!*****************!*\
  !*** ./game.js ***!
  \*****************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_setup_game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/setup_game */ \"./components/setup_game.js\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  var scene, camera, renderer, player, spotLight;\n  var playerDY, playerDX;\n  var frame;\n  var keyboard = {};\n  var cubes = [];\n  var yLevels = [0, -1, -1.5, -2, -2.5];\n  var game;\n\n  var init = function init() {\n    frame = 0;\n    scene = new THREE.Scene();\n    camera = Object(_components_setup_game__WEBPACK_IMPORTED_MODULE_0__[\"setupCamera\"])();\n    player = Object(_components_setup_game__WEBPACK_IMPORTED_MODULE_0__[\"setupPlayer\"])(scene);\n    Object(_components_setup_game__WEBPACK_IMPORTED_MODULE_0__[\"setupMap\"])(scene);\n    spotLight = Object(_components_setup_game__WEBPACK_IMPORTED_MODULE_0__[\"setupLight\"])(scene, false);\n    playerDY = 0;\n    playerDX = 0;\n    renderer = new THREE.WebGLRenderer();\n    renderer.setSize(1200, 720);\n    renderer.physicallyCorrectLights = true;\n    document.body.appendChild(renderer.domElement);\n    animate();\n  };\n\n  var animate = function animate() {\n    if (player.position.y < -3) {\n      player.position.y = -2.3;\n    }\n\n    if (keyboard[37]) {\n      //LEFT\n      if (player.position.x >= -6) {\n        playerDX -= 0.025;\n      }\n    }\n\n    if (keyboard[39]) {\n      //RIGHT\n      if (player.position.x <= 6) {\n        playerDX += 0.025;\n      }\n    }\n\n    if (keyboard[38]) {\n      //UP\n      if (player.position.y <= 0) {\n        player.position.y += 0.3;\n        playerDY = 0.09;\n      }\n    }\n\n    if (keyboard[40]) {\n      //DOWN\n      if (player.position.y >= -2.5) {}\n    }\n\n    cubes.forEach(function (cube) {\n      if (cube.position.z >= 5) {\n        scene.remove(cube);\n      } else {\n        // const cubePos = cube.position.clone();\n        // const cubeVertPos = cube.geometry.vertices.map( vertex => {\n        //     vertex.x += cubePos.x;\n        //     vertex.y += cubePos.y;\n        //     vertex.z += cubePos.z;\n        // });\n        // debugger\n        // cubeVertPos.forEach(vertex => {\n        //     if (\n        //         vertex.x > playerXRange[0] && vertex.x < playerXRange[1] \n        //         &&\n        //         vertex.y > playerYRange[0] && vertex.y < playerYRange[1]\n        //         &&\n        //         vertex.z > playerZRange[0] && vertex.z < plyaerZRange[1]\n        //         ) {\n        //             alert(\"game over\");\n        //         }\n        // });\n        if (frame > 3000) {\n          cube.position.z += 0.65;\n        } else {\n          cube.position.z += 0.5;\n        }\n      }\n    }); // PHASE 1\n\n    if (++frame % 10 == 0) renderNewCube(); // PHASE 2\n\n    if (frame > 600 && frame % 10 == 0) renderNewCube(); // PHASE 3\n\n    if (frame > 1200 && frame % 10 == 0) renderBar(); // PHASE 4\n\n    if (frame > 1800 && frame % 10 == 0) renderNewSphere(); // after 50 sec, more chaos\n\n    if (frame > 3000) {\n      camera.rotation.z = -player.position.x * 0.07;\n      spotLight.position.x = player.position.x;\n    }\n\n    ; // remove cubes from array after 6 sec\n\n    if (frame > 360 && frame % 10 == 0) {\n      cubes.shift();\n    }\n\n    playerDY -= 0.009;\n    playerDX *= 0.9;\n\n    if (player.position.y >= -2.5) {\n      player.position.y += playerDY;\n    }\n\n    player.position.x += playerDX;\n    camera.position.x = player.position.x * 0.4;\n    camera.position.y = player.position.y * 0.4; // const playerPos = player.position.clone();\n    // const playerXRange = [(player.geometry.vertices[0].x + playerPos.x), (player.geometry.vertices[4].x + playerPos.x)];\n    // const playerYRange = [(player.geometry.vertices[0].y + playerPos.y), (player.geometry.vertices[2].y + playerPos.y)];\n    // const playerZRange = [(player.geometry.vertices[0].z + playerPos.z), (player.geometry.vertices[1].z + playerPos.z)];\n    // collision detection\n\n    game = requestAnimationFrame(animate);\n    var originPoint = player.position.clone();\n\n    for (var vertexIndex = 0; vertexIndex < player.geometry.vertices.length; vertexIndex++) {\n      var localVertex = player.geometry.vertices[vertexIndex].clone();\n      var globalVertex = localVertex.applyMatrix4(player.matrix);\n      var directionVector = globalVertex.sub(player.position);\n      var ray = new THREE.Raycaster(originPoint, directionVector.clone().normalize());\n      var collisionResults = ray.intersectObjects(cubes);\n\n      if (collisionResults.length === 1 && collisionResults[0].distance < directionVector.length() && collisionResults[0].object.position.z > -0.25) {\n        debugger;\n        collisionResults[0].object.material.transparent = true;\n        collisionResults[0].object.material.opacity = 0.4;\n        collisionResults[0].object.material.color.setHex(0xFF0000);\n        cancelAnimationFrame(game);\n      }\n    }\n\n    renderer.render(scene, camera);\n  };\n\n  var renderNewCube = function renderNewCube() {\n    var shape = new THREE.BoxGeometry(1, 1, 1);\n    var material = new THREE.MeshStandardMaterial({\n      color: 0xffffff\n    });\n    var box = new THREE.Mesh(shape, material);\n    cubes.push(box);\n    var xCord = Math.random() * 12 - 6;\n    var ySample = yLevels[Math.floor(Math.random() * yLevels.length)];\n    box.position.set(xCord, ySample, -50);\n    box.castShadow = true;\n    box.receiveShadow = true;\n    scene.add(box);\n  };\n\n  var renderNewSphere = function renderNewSphere() {\n    if (Math.random() >= 0.7) {\n      var shape = new THREE.SphereGeometry(0.5);\n      var material = new THREE.MeshStandardMaterial({\n        color: 0xffffff\n      });\n      var sphere = new THREE.Mesh(shape, material);\n      cubes.push(sphere);\n      var xCord = Math.random() * 12 - 6;\n      var ySample = yLevels[Math.floor(Math.random() * yLevels.length)];\n      sphere.position.set(xCord, ySample, -50);\n      sphere.castShadow = true;\n      sphere.receiveShadow = true;\n      scene.add(sphere);\n    }\n  };\n\n  var renderBar = function renderBar() {\n    if (Math.random() >= 0.95) {\n      var shape = new THREE.BoxGeometry(10, 1, 1);\n      var material = new THREE.MeshStandardMaterial({\n        color: 0xffffff\n      });\n      var box = new THREE.Mesh(shape, material);\n      cubes.push(box);\n      var ySample = yLevels[Math.floor(Math.random() * yLevels.length)];\n      var xCord = Math.random() * 12 - 6;\n      box.position.set(xCord, ySample, -50);\n      box.castShadow = true;\n      box.receiveShadow = true;\n      scene.add(box);\n    }\n  };\n\n  var keyDown = function keyDown(e) {\n    keyboard[e.keyCode] = true;\n  };\n\n  var keyUp = function keyUp(e) {\n    keyboard[e.keyCode] = false;\n  };\n\n  window.addEventListener('keydown', keyDown);\n  window.addEventListener('keyup', keyUp);\n  init();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9nYW1lLmpzPzM2NTciXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2NlbmUiLCJjYW1lcmEiLCJyZW5kZXJlciIsInBsYXllciIsInNwb3RMaWdodCIsInBsYXllckRZIiwicGxheWVyRFgiLCJmcmFtZSIsImtleWJvYXJkIiwiY3ViZXMiLCJ5TGV2ZWxzIiwiZ2FtZSIsImluaXQiLCJUSFJFRSIsIlNjZW5lIiwic2V0dXBDYW1lcmEiLCJzZXR1cFBsYXllciIsInNldHVwTWFwIiwic2V0dXBMaWdodCIsIldlYkdMUmVuZGVyZXIiLCJzZXRTaXplIiwicGh5c2ljYWxseUNvcnJlY3RMaWdodHMiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJkb21FbGVtZW50IiwiYW5pbWF0ZSIsInBvc2l0aW9uIiwieSIsIngiLCJmb3JFYWNoIiwiY3ViZSIsInoiLCJyZW1vdmUiLCJyZW5kZXJOZXdDdWJlIiwicmVuZGVyQmFyIiwicmVuZGVyTmV3U3BoZXJlIiwicm90YXRpb24iLCJzaGlmdCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9yaWdpblBvaW50IiwiY2xvbmUiLCJ2ZXJ0ZXhJbmRleCIsImdlb21ldHJ5IiwidmVydGljZXMiLCJsZW5ndGgiLCJsb2NhbFZlcnRleCIsImdsb2JhbFZlcnRleCIsImFwcGx5TWF0cml4NCIsIm1hdHJpeCIsImRpcmVjdGlvblZlY3RvciIsInN1YiIsInJheSIsIlJheWNhc3RlciIsIm5vcm1hbGl6ZSIsImNvbGxpc2lvblJlc3VsdHMiLCJpbnRlcnNlY3RPYmplY3RzIiwiZGlzdGFuY2UiLCJvYmplY3QiLCJtYXRlcmlhbCIsInRyYW5zcGFyZW50Iiwib3BhY2l0eSIsImNvbG9yIiwic2V0SGV4IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZW5kZXIiLCJzaGFwZSIsIkJveEdlb21ldHJ5IiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJib3giLCJNZXNoIiwicHVzaCIsInhDb3JkIiwiTWF0aCIsInJhbmRvbSIsInlTYW1wbGUiLCJmbG9vciIsInNldCIsImNhc3RTaGFkb3ciLCJyZWNlaXZlU2hhZG93IiwiYWRkIiwiU3BoZXJlR2VvbWV0cnkiLCJzcGhlcmUiLCJrZXlEb3duIiwiZSIsImtleUNvZGUiLCJrZXlVcCIsIndpbmRvdyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUFBLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDLFlBQU07QUFDaEQsTUFBSUMsS0FBSixFQUFXQyxNQUFYLEVBQW1CQyxRQUFuQixFQUE2QkMsTUFBN0IsRUFBcUNDLFNBQXJDO0FBQ0EsTUFBSUMsUUFBSixFQUFjQyxRQUFkO0FBQ0EsTUFBSUMsS0FBSjtBQUNBLE1BQUlDLFFBQVEsR0FBRyxFQUFmO0FBQ0EsTUFBSUMsS0FBSyxHQUFHLEVBQVo7QUFDQSxNQUFJQyxPQUFPLEdBQUcsQ0FBQyxDQUFELEVBQUksQ0FBQyxDQUFMLEVBQVEsQ0FBQyxHQUFULEVBQWMsQ0FBQyxDQUFmLEVBQWtCLENBQUMsR0FBbkIsQ0FBZDtBQUNBLE1BQUlDLElBQUo7O0FBRUEsTUFBTUMsSUFBSSxHQUFHLFNBQVBBLElBQU8sR0FBTTtBQUNmTCxTQUFLLEdBQUcsQ0FBUjtBQUNBUCxTQUFLLEdBQUcsSUFBSWEsS0FBSyxDQUFDQyxLQUFWLEVBQVI7QUFDQWIsVUFBTSxHQUFHYywwRUFBVyxFQUFwQjtBQUNBWixVQUFNLEdBQUdhLDBFQUFXLENBQUNoQixLQUFELENBQXBCO0FBQ0FpQiwyRUFBUSxDQUFDakIsS0FBRCxDQUFSO0FBQ0FJLGFBQVMsR0FBR2MseUVBQVUsQ0FBQ2xCLEtBQUQsRUFBUSxLQUFSLENBQXRCO0FBRUFLLFlBQVEsR0FBRyxDQUFYO0FBQ0FDLFlBQVEsR0FBRyxDQUFYO0FBQ0FKLFlBQVEsR0FBRyxJQUFJVyxLQUFLLENBQUNNLGFBQVYsRUFBWDtBQUNBakIsWUFBUSxDQUFDa0IsT0FBVCxDQUFpQixJQUFqQixFQUF1QixHQUF2QjtBQUNBbEIsWUFBUSxDQUFD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LE1BQW5DLENBQUQsQ0FBdkI7QUFDQSxVQUFNMkIsS0FBSyxHQUFJQyxJQUFJLENBQUNDLE1BQUwsS0FBZ0IsRUFBakIsR0FBdUIsQ0FBckM7QUFDQUwsU0FBRyxDQUFDMUMsUUFBSixDQUFha0QsR0FBYixDQUFpQkwsS0FBakIsRUFBd0JHLE9BQXhCLEVBQWlDLENBQUMsRUFBbEM7QUFDQU4sU0FBRyxDQUFDUyxVQUFKLEdBQWlCLElBQWpCO0FBQ0FULFNBQUcsQ0FBQ1UsYUFBSixHQUFvQixJQUFwQjtBQUNBOUUsV0FBSyxDQUFDK0UsR0FBTixDQUFVWCxHQUFWO0FBQ0g7QUFDSixHQWJEOztBQWVBLE1BQU1jLE9BQU8sR0FBRyxTQUFWQSxPQUFVLENBQUNDLENBQUQsRUFBTztBQUNuQjNFLFlBQVEsQ0FBQzJFLENBQUMsQ0FBQ0MsT0FBSCxDQUFSLEdBQXNCLElBQXRCO0FBQ0gsR0FGRDs7QUFHQSxNQUFNQyxLQUFLLEdBQUUsU0FBUEEsS0FBTyxDQUFDRixDQUFELEVBQU87QUFDaEIzRSxZQUFRLENBQUMyRSxDQUFDLENBQUNDLE9BQUgsQ0FBUixHQUFzQixLQUF0QjtBQUNILEdBRkQ7O0FBR0FFLFFBQU0sQ0FBQ3ZGLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DbUYsT0FBbkM7QUFDQUksUUFBTSxDQUFDdkYsZ0JBQVAsQ0FBd0IsT0FBeEIsRUFBaUNzRixLQUFqQztBQUNBekUsTUFBSTtBQUNQLENBcE5EIiwiZmlsZSI6Ii4vZ2FtZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7c2V0dXBDYW1lcmEsIHNldHVwUGxheWVyLCBzZXR1cExpZ2h0LCBzZXR1cE1hcCB9IGZyb20gJy4vY29tcG9uZW50cy9zZXR1cF9nYW1lJztcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIHZhciBzY2VuZSwgY2FtZXJhLCByZW5kZXJlciwgcGxheWVyLCBzcG90TGlnaHQ7XG4gICAgdmFyIHBsYXllckRZLCBwbGF5ZXJEWDtcbiAgICB2YXIgZnJhbWU7XG4gICAgdmFyIGtleWJvYXJkID0ge307XG4gICAgdmFyIGN1YmVzID0gW107XG4gICAgdmFyIHlMZXZlbHMgPSBbMCwgLTEsIC0xLjUsIC0yLCAtMi41XTtcbiAgICB2YXIgZ2FtZTtcbiAgICBcbiAgICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgICAgICBmcmFtZSA9IDA7XG4gICAgICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgICAgIGNhbWVyYSA9IHNldHVwQ2FtZXJhKCk7XG4gICAgICAgIHBsYXllciA9IHNldHVwUGxheWVyKHNjZW5lKTtcbiAgICAgICAgc2V0dXBNYXAoc2NlbmUpO1xuICAgICAgICBzcG90TGlnaHQgPSBzZXR1cExpZ2h0KHNjZW5lLCBmYWxzZSk7XG5cbiAgICAgICAgcGxheWVyRFkgPSAwO1xuICAgICAgICBwbGF5ZXJEWCA9IDA7XG4gICAgICAgIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICAgICAgcmVuZGVyZXIuc2V0U2l6ZSgxMjAwLCA3MjApO1xuICAgICAgICByZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyA9IHRydWU7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgICAgIGFuaW1hdGUoKTtcblxuICAgICAgICBcblxuICAgIH0gICBcblxuICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgKHBsYXllci5wb3NpdGlvbi55IDwgLTMpIHtcbiAgICAgICAgICAgIHBsYXllci5wb3NpdGlvbi55ID0gLTIuMztcbiAgICAgICAgfVxuICAgICAgICBpZihrZXlib2FyZFszN10pIHsgLy9MRUZUXG4gICAgICAgICAgICBpZihwbGF5ZXIucG9zaXRpb24ueCA+PSAtNikge1xuICAgICAgICAgICAgICAgIHBsYXllckRYIC09IDAuMDI1O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlib2FyZFszOV0pIHsgLy9SSUdIVFxuICAgICAgICAgICAgaWYgKHBsYXllci5wb3NpdGlvbi54IDw9IDYpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJEWCArPSAwLjAyNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5Ym9hcmRbMzhdKSB7IC8vVVBcbiAgICAgICAgICAgIGlmIChwbGF5ZXIucG9zaXRpb24ueSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBvc2l0aW9uLnkgKz0gMC4zO1xuICAgICAgICAgICAgICAgIHBsYXllckRZID0gMC4wOTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5Ym9hcmRbNDBdKSB7IC8vRE9XTlxuICAgICAgICAgICAgaWYgKHBsYXllci5wb3NpdGlvbi55ID49IC0yLjUpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdWJlcy5mb3JFYWNoKGN1YmUgPT4ge1xuICAgICAgICAgICAgaWYgKGN1YmUucG9zaXRpb24ueiA+PSA1KSB7XG4gICAgICAgICAgICAgICAgc2NlbmUucmVtb3ZlKGN1YmUpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IGN1YmVQb3MgPSBjdWJlLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgY3ViZVZlcnRQb3MgPSBjdWJlLmdlb21ldHJ5LnZlcnRpY2VzLm1hcCggdmVydGV4ID0+IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgdmVydGV4LnggKz0gY3ViZVBvcy54O1xuICAgICAgICAgICAgICAgIC8vICAgICB2ZXJ0ZXgueSArPSBjdWJlUG9zLnk7XG4gICAgICAgICAgICAgICAgLy8gICAgIHZlcnRleC56ICs9IGN1YmVQb3MuejtcbiAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICAvLyBkZWJ1Z2dlclxuICAgICAgICAgICAgICAgIC8vIGN1YmVWZXJ0UG9zLmZvckVhY2godmVydGV4ID0+IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmVydGV4LnggPiBwbGF5ZXJYUmFuZ2VbMF0gJiYgdmVydGV4LnggPCBwbGF5ZXJYUmFuZ2VbMV0gXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAmJlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmVydGV4LnkgPiBwbGF5ZXJZUmFuZ2VbMF0gJiYgdmVydGV4LnkgPCBwbGF5ZXJZUmFuZ2VbMV1cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICYmXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB2ZXJ0ZXgueiA+IHBsYXllclpSYW5nZVswXSAmJiB2ZXJ0ZXgueiA8IHBseWFlclpSYW5nZVsxXVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgYWxlcnQoXCJnYW1lIG92ZXJcIik7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZnJhbWUgPiAzMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1YmUucG9zaXRpb24ueiArPSAwLjY1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3ViZS5wb3NpdGlvbi56ICs9IDAuNTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBQSEFTRSAxXG4gICAgICAgIGlmICgrK2ZyYW1lICUgMTAgPT0gMCkgcmVuZGVyTmV3Q3ViZSgpO1xuXG4gICAgICAgIC8vIFBIQVNFIDJcbiAgICAgICAgaWYgKGZyYW1lID4gNjAwICYmIGZyYW1lICUgMTAgPT0gMCkgcmVuZGVyTmV3Q3ViZSgpO1xuXG4gICAgICAgIC8vIFBIQVNFIDNcbiAgICAgICAgaWYgKGZyYW1lID4gMTIwMCAmJiBmcmFtZSAlIDEwID09IDApIHJlbmRlckJhcigpO1xuXG4gICAgICAgIC8vIFBIQVNFIDRcbiAgICAgICAgaWYgKGZyYW1lID4gMTgwMCAmJiBmcmFtZSAlIDEwID09IDApIHJlbmRlck5ld1NwaGVyZSgpO1xuXG4gICAgICAgIC8vIGFmdGVyIDUwIHNlYywgbW9yZSBjaGFvc1xuICAgICAgICBpZiAoZnJhbWUgPiAzMDAwKSB7XG4gICAgICAgICAgICBjYW1lcmEucm90YXRpb24ueiA9IC1wbGF5ZXIucG9zaXRpb24ueCAqIDAuMDc7XG4gICAgICAgICAgICBzcG90TGlnaHQucG9zaXRpb24ueCA9IHBsYXllci5wb3NpdGlvbi54O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHJlbW92ZSBjdWJlcyBmcm9tIGFycmF5IGFmdGVyIDYgc2VjXG4gICAgICAgIGlmIChmcmFtZSA+IDM2MCAmJiBmcmFtZSAlIDEwID09IDApIHtcbiAgICAgICAgICAgIGN1YmVzLnNoaWZ0KCk7XG4gICAgICAgIH1cblxuXG5cblxuXG4gICAgICAgIHBsYXllckRZIC09IDAuMDA5O1xuICAgICAgICBwbGF5ZXJEWCAqPSAwLjk7XG4gICAgICAgIGlmIChwbGF5ZXIucG9zaXRpb24ueSA+PSAtMi41KSB7XG4gICAgICAgICAgICBwbGF5ZXIucG9zaXRpb24ueSArPSBwbGF5ZXJEWTtcbiAgICAgICAgfVxuICAgICAgICBwbGF5ZXIucG9zaXRpb24ueCArPSBwbGF5ZXJEWDtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnggPSBwbGF5ZXIucG9zaXRpb24ueCAqIDAuNDtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnkgPSBwbGF5ZXIucG9zaXRpb24ueSAqIDAuNCA7XG4gICAgICAgIFxuXG5cbiAgICAgICAgLy8gY29uc3QgcGxheWVyUG9zID0gcGxheWVyLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgIC8vIGNvbnN0IHBsYXllclhSYW5nZSA9IFsocGxheWVyLmdlb21ldHJ5LnZlcnRpY2VzWzBdLnggKyBwbGF5ZXJQb3MueCksIChwbGF5ZXIuZ2VvbWV0cnkudmVydGljZXNbNF0ueCArIHBsYXllclBvcy54KV07XG4gICAgICAgIC8vIGNvbnN0IHBsYXllcllSYW5nZSA9IFsocGxheWVyLmdlb21ldHJ5LnZlcnRpY2VzWzBdLnkgKyBwbGF5ZXJQb3MueSksIChwbGF5ZXIuZ2VvbWV0cnkudmVydGljZXNbMl0ueSArIHBsYXllclBvcy55KV07XG4gICAgICAgIC8vIGNvbnN0IHBsYXllclpSYW5nZSA9IFsocGxheWVyLmdlb21ldHJ5LnZlcnRpY2VzWzBdLnogKyBwbGF5ZXJQb3MueiksIChwbGF5ZXIuZ2VvbWV0cnkudmVydGljZXNbMV0ueiArIHBsYXllclBvcy56KV07XG5cbiAgICAgICAgLy8gY29sbGlzaW9uIGRldGVjdGlvblxuICAgICAgICBnYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICBjb25zdCBvcmlnaW5Qb2ludCA9IHBsYXllci5wb3NpdGlvbi5jbG9uZSgpO1xuXG4gICAgICAgIGZvciAobGV0IHZlcnRleEluZGV4ID0gMDsgdmVydGV4SW5kZXggPCBwbGF5ZXIuZ2VvbWV0cnkudmVydGljZXMubGVuZ3RoOyB2ZXJ0ZXhJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZlcnRleCA9IHBsYXllci5nZW9tZXRyeS52ZXJ0aWNlc1t2ZXJ0ZXhJbmRleF0uY2xvbmUoKTtcbiAgICAgICAgICAgIGNvbnN0IGdsb2JhbFZlcnRleCA9IGxvY2FsVmVydGV4LmFwcGx5TWF0cml4NChwbGF5ZXIubWF0cml4KTtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvblZlY3RvciA9IGdsb2JhbFZlcnRleC5zdWIocGxheWVyLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHJheSA9IG5ldyBUSFJFRS5SYXljYXN0ZXIob3JpZ2luUG9pbnQsIGRpcmVjdGlvblZlY3Rvci5jbG9uZSgpLm5vcm1hbGl6ZSgpKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvblJlc3VsdHMgPSByYXkuaW50ZXJzZWN0T2JqZWN0cyhjdWJlcyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjb2xsaXNpb25SZXN1bHRzLmxlbmd0aCA9PT0gMSBcbiAgICAgICAgICAgICAgICAmJiBcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25SZXN1bHRzWzBdLmRpc3RhbmNlIDwgZGlyZWN0aW9uVmVjdG9yLmxlbmd0aCgpXG4gICAgICAgICAgICAgICAgJiYgXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uUmVzdWx0c1swXS5vYmplY3QucG9zaXRpb24ueiA+IC0wLjI1XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZGVidWdnZXJcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25SZXN1bHRzWzBdLm9iamVjdC5tYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29sbGlzaW9uUmVzdWx0c1swXS5vYmplY3QubWF0ZXJpYWwub3BhY2l0eSA9IDAuNDtcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25SZXN1bHRzWzBdLm9iamVjdC5tYXRlcmlhbC5jb2xvci5zZXRIZXgoMHhGRjAwMDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGdhbWUpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyTmV3Q3ViZSA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLCAxLCAxKTtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZmZmZmYgfSk7XG4gICAgICAgIGNvbnN0IGJveCA9IG5ldyBUSFJFRS5NZXNoKHNoYXBlLCBtYXRlcmlhbCk7XG4gICAgICAgIGN1YmVzLnB1c2goYm94KTtcbiAgICAgICAgY29uc3QgeENvcmQgPSAoTWF0aC5yYW5kb20oKSAqIDEyKSAtIDY7XG4gICAgICAgIGNvbnN0IHlTYW1wbGUgPSB5TGV2ZWxzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHlMZXZlbHMubGVuZ3RoKV07XG4gICAgICAgIGJveC5wb3NpdGlvbi5zZXQoeENvcmQsIHlTYW1wbGUsIC01MCk7XG4gICAgICAgIGJveC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgYm94LnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICBzY2VuZS5hZGQoYm94KTtcbiAgICB9XG4gICAgY29uc3QgcmVuZGVyTmV3U3BoZXJlID0gKCkgPT4ge1xuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA+PSAwLjcpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuNSk7XG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweGZmZmZmZiB9KTtcbiAgICAgICAgICAgIGNvbnN0IHNwaGVyZSA9IG5ldyBUSFJFRS5NZXNoKHNoYXBlLCBtYXRlcmlhbCk7XG4gICAgICAgICAgICBjdWJlcy5wdXNoKHNwaGVyZSk7XG4gICAgICAgICAgICBjb25zdCB4Q29yZCA9IChNYXRoLnJhbmRvbSgpICogMTIpIC0gNjtcbiAgICAgICAgICAgIGNvbnN0IHlTYW1wbGUgPSB5TGV2ZWxzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHlMZXZlbHMubGVuZ3RoKV07XG4gICAgICAgICAgICBzcGhlcmUucG9zaXRpb24uc2V0KHhDb3JkLCB5U2FtcGxlLCAtNTApO1xuICAgICAgICAgICAgc3BoZXJlLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgICAgc3BoZXJlLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgICAgc2NlbmUuYWRkKHNwaGVyZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVuZGVyQmFyID0gKCkgPT4ge1xuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA+PSAwLjk1KSB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxMCwgMSwgMSk7XG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweGZmZmZmZiB9KTtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IG5ldyBUSFJFRS5NZXNoKHNoYXBlLCBtYXRlcmlhbCk7XG4gICAgICAgICAgICBjdWJlcy5wdXNoKGJveCk7XG4gICAgICAgICAgICBjb25zdCB5U2FtcGxlID0geUxldmVsc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB5TGV2ZWxzLmxlbmd0aCldO1xuICAgICAgICAgICAgY29uc3QgeENvcmQgPSAoTWF0aC5yYW5kb20oKSAqIDEyKSAtIDY7XG4gICAgICAgICAgICBib3gucG9zaXRpb24uc2V0KHhDb3JkLCB5U2FtcGxlLCAtNTApO1xuICAgICAgICAgICAgYm94LmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgICAgYm94LnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgICAgc2NlbmUuYWRkKGJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBrZXlEb3duID0gKGUpID0+IHtcbiAgICAgICAga2V5Ym9hcmRbZS5rZXlDb2RlXSA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGtleVVwPSAoZSkgPT4ge1xuICAgICAgICBrZXlib2FyZFtlLmtleUNvZGVdID0gZmFsc2U7XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5RG93bik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywga2V5VXApO1xuICAgIGluaXQoKTtcbn0pIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./game.js\n");

/***/ })

/******/ });