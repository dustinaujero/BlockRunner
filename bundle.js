/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./game.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./game.js":
/*!*****************!*\
  !*** ./game.js ***!
  \*****************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("document.addEventListener(\"DOMContentLoaded\", function () {\n  var scene, camera, renderer, player, spotLight;\n  var playerDY, playerDX;\n  var frame;\n  var keyboard = {};\n  var cubes = [];\n  var yLevels = [0, -1, -1.5, -2, -2.5];\n  var game;\n\n  var init = function init() {\n    scene = new THREE.Scene(); //CAMERA\n\n    camera = new THREE.PerspectiveCamera(50, 1200 / 720, 0.1, 1000);\n    camera.position.set(0, 5, 5);\n    frame = 0; //CAMERA\n    //PLAYER\n\n    var shape = new THREE.BoxGeometry(0.5, 0.5, 0.5);\n    var material = new THREE.MeshStandardMaterial({\n      color: 0xFF0000\n    });\n    player = new THREE.Mesh(shape, material);\n    player.position.set(0, -1.5, 0);\n    player.castShadow = true;\n    player.receiveShadow = true;\n    scene.add(player); //PLAYER\n\n    var floor = new THREE.Mesh(new THREE.PlaneGeometry(15, 250), new THREE.MeshStandardMaterial({\n      color: 0xC8C8C8\n    }));\n    floor.rotation.x -= Math.PI / 2;\n    floor.position.set(0, -3.1, 0);\n    floor.receiveShadow = true;\n    floor.castShadow = true;\n    scene.add(floor);\n    var rightWall = new THREE.Mesh(new THREE.PlaneGeometry(15, 250), new THREE.MeshStandardMaterial({\n      color: 0xffffff,\n      wireframe: false\n    }));\n    rightWall.rotation.x -= Math.PI / 2;\n    rightWall.rotation.y -= Math.PI / 2;\n    rightWall.position.set(7, -2, 0);\n    rightWall.receiveShadow = true;\n    rightWall.castShadow = true;\n    scene.add(rightWall);\n    var leftWall = new THREE.Mesh(new THREE.PlaneGeometry(15, 250), new THREE.MeshStandardMaterial({\n      color: 0xC8C8C8,\n      wireframe: false\n    }));\n    leftWall.rotation.x -= Math.PI / 2;\n    leftWall.rotation.y += Math.PI / 2;\n    leftWall.position.set(-7, -2, 0);\n    leftWall.receiveShadow = true;\n    leftWall.castShadow = true;\n    scene.add(leftWall);\n    var ambientLight = new THREE.AmbientLight(0xffffff, 1, 0, 0.1, 0, 1);\n    scene.add(ambientLight);\n    spotLight = new THREE.SpotLight(0xffffff, 50, 0, 0.3, 0, 1);\n    spotLight.position.set(0, 5, 15);\n    spotLight.castShadow = true;\n    spotLight.shadow.mapSize.width = 1024;\n    spotLight.shadow.mapSize.height = 1024;\n    spotLight.shadow.camera.near = 0.0;\n    spotLight.shadow.camera.far = -4000;\n    spotLight.lookAt(new THREE.Vector3(0, 5, 0));\n    scene.add(spotLight);\n    playerDY = 0;\n    playerDX = 0;\n    renderer = new THREE.WebGLRenderer();\n    renderer.setSize(1200, 720);\n    renderer.physicallyCorrectLights = true;\n    document.body.appendChild(renderer.domElement);\n    animate();\n  };\n\n  var animate = function animate() {\n    if (player.position.y < -3) {\n      player.position.y = -2.3;\n    }\n\n    if (keyboard[37]) {\n      //LEFT\n      if (player.position.x >= -6) {\n        playerDX -= 0.025;\n      }\n    }\n\n    if (keyboard[39]) {\n      //RIGHT\n      if (player.position.x <= 6) {\n        playerDX += 0.025;\n      }\n    }\n\n    if (keyboard[38]) {\n      //UP\n      if (player.position.y <= 1) {\n        player.position.y += 0.3;\n        playerDY = 0.1;\n      }\n    }\n\n    if (keyboard[40]) {\n      //DOWN\n      if (player.position.y >= -2.5) {}\n    }\n\n    if (++frame % 10 == 0) {\n      renderNewCube();\n      renderNewCube();\n      renderBar();\n    }\n\n    playerDY -= 0.009;\n    playerDX *= 0.9;\n\n    if (player.position.y >= -2.5) {\n      player.position.y += playerDY;\n    }\n\n    player.position.x += playerDX;\n    camera.position.x = player.position.x * 0.4;\n    camera.position.y = player.position.y * 0.4; // const playerPos = player.position.clone();\n    // const playerXRange = [(player.geometry.vertices[0].x + playerPos.x), (player.geometry.vertices[4].x + playerPos.x)];\n    // const playerYRange = [(player.geometry.vertices[0].y + playerPos.y), (player.geometry.vertices[2].y + playerPos.y)];\n    // const playerZRange = [(player.geometry.vertices[0].z + playerPos.z), (player.geometry.vertices[1].z + playerPos.z)];\n\n    game = requestAnimationFrame(animate);\n    cubes.forEach(function (cube) {\n      if (cube.position.z >= 5) {\n        scene.remove(cube);\n      } else {\n        // const cubePos = cube.position.clone();\n        // const cubeVertPos = cube.geometry.vertices.map( vertex => {\n        //     vertex.x += cubePos.x;\n        //     vertex.y += cubePos.y;\n        //     vertex.z += cubePos.z;\n        // });\n        // debugger\n        // cubeVertPos.forEach(vertex => {\n        //     if (\n        //         vertex.x > playerXRange[0] && vertex.x < playerXRange[1] \n        //         &&\n        //         vertex.y > playerYRange[0] && vertex.y < playerYRange[1]\n        //         &&\n        //         vertex.z > playerZRange[0] && vertex.z < plyaerZRange[1]\n        //         ) {\n        //             alert(\"game over\");\n        //         }\n        // });\n        cube.position.z += 0.5;\n      }\n    });\n    var originPoint = player.position.clone();\n\n    for (var vertexIndex = 0; vertexIndex < player.geometry.vertices.length; vertexIndex++) {\n      var localVertex = player.geometry.vertices[vertexIndex].clone();\n      var globalVertex = localVertex.applyMatrix4(player.matrix);\n      var directionVector = globalVertex.sub(player.position);\n      var ray = new THREE.Raycaster(originPoint, directionVector.clone().normalize());\n      var collisionResults = ray.intersectObjects(cubes);\n\n      if (collisionResults.length === 1 && collisionResults[0].distance < directionVector.length()) {\n        debugger;\n        cancelAnimationFrame(game);\n        collisionResults[0].object.material.transparent = true;\n        collisionResults[0].object.material.opacity = 0.4;\n        collisionResults[0].object.material.color.setHex(0xFF0000);\n      }\n    }\n\n    renderer.render(scene, camera);\n  };\n\n  var renderNewCube = function renderNewCube() {\n    var shape = new THREE.BoxGeometry(1, 1, 1);\n    var material = new THREE.MeshStandardMaterial({\n      color: 0xffffff\n    });\n    var box = new THREE.Mesh(shape, material);\n    cubes.push(box);\n    var xCord = Math.random() * 12 - 6;\n    var ySample = yLevels[Math.floor(Math.random() * yLevels.length)];\n    box.position.set(xCord, ySample, -50);\n    box.castShadow = true;\n    box.receiveShadow = true;\n    scene.add(box);\n  };\n\n  var renderBar = function renderBar() {\n    if (Math.random() >= 0.95) {\n      var shape = new THREE.BoxGeometry(10, 1, 1);\n      var material = new THREE.MeshStandardMaterial({\n        color: 0xffffff\n      });\n      var box = new THREE.Mesh(shape, material);\n      cubes.push(box);\n      var ySample = yLevels[Math.floor(Math.random() * yLevels.length)];\n      var xCord = Math.random() * 12 - 6;\n      box.position.set(xCord, ySample, -50);\n      box.castShadow = true;\n      box.receiveShadow = true;\n      scene.add(box);\n    }\n  };\n\n  var keyDown = function keyDown(e) {\n    keyboard[e.keyCode] = true;\n  };\n\n  var keyUp = function keyUp(e) {\n    keyboard[e.keyCode] = false;\n  };\n\n  window.addEventListener('keydown', keyDown);\n  window.addEventListener('keyup', keyUp);\n  init();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9nYW1lLmpzPzM2NTciXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2NlbmUiLCJjYW1lcmEiLCJyZW5kZXJlciIsInBsYXllciIsInNwb3RMaWdodCIsInBsYXllckRZIiwicGxheWVyRFgiLCJmcmFtZSIsImtleWJvYXJkIiwiY3ViZXMiLCJ5TGV2ZWxzIiwiZ2FtZSIsImluaXQiLCJUSFJFRSIsIlNjZW5lIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJwb3NpdGlvbiIsInNldCIsInNoYXBlIiwiQm94R2VvbWV0cnkiLCJtYXRlcmlhbCIsIk1lc2hTdGFuZGFyZE1hdGVyaWFsIiwiY29sb3IiLCJNZXNoIiwiY2FzdFNoYWRvdyIsInJlY2VpdmVTaGFkb3ciLCJhZGQiLCJmbG9vciIsIlBsYW5lR2VvbWV0cnkiLCJyb3RhdGlvbiIsIngiLCJNYXRoIiwiUEkiLCJyaWdodFdhbGwiLCJ3aXJlZnJhbWUiLCJ5IiwibGVmdFdhbGwiLCJhbWJpZW50TGlnaHQiLCJBbWJpZW50TGlnaHQiLCJTcG90TGlnaHQiLCJzaGFkb3ciLCJtYXBTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJuZWFyIiwiZmFyIiwibG9va0F0IiwiVmVjdG9yMyIsIldlYkdMUmVuZGVyZXIiLCJzZXRTaXplIiwicGh5c2ljYWxseUNvcnJlY3RMaWdodHMiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJkb21FbGVtZW50IiwiYW5pbWF0ZSIsInJlbmRlck5ld0N1YmUiLCJyZW5kZXJCYXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmb3JFYWNoIiwiY3ViZSIsInoiLCJyZW1vdmUiLCJvcmlnaW5Qb2ludCIsImNsb25lIiwidmVydGV4SW5kZXgiLCJnZW9tZXRyeSIsInZlcnRpY2VzIiwibGVuZ3RoIiwibG9jYWxWZXJ0ZXgiLCJnbG9iYWxWZXJ0ZXgiLCJhcHBseU1hdHJpeDQiLCJtYXRyaXgiLCJkaXJlY3Rpb25WZWN0b3IiLCJzdWIiLCJyYXkiLCJSYXljYXN0ZXIiLCJub3JtYWxpemUiLCJjb2xsaXNpb25SZXN1bHRzIiwiaW50ZXJzZWN0T2JqZWN0cyIsImRpc3RhbmNlIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJvYmplY3QiLCJ0cmFuc3BhcmVudCIsIm9wYWNpdHkiLCJzZXRIZXgiLCJyZW5kZXIiLCJib3giLCJwdXNoIiwieENvcmQiLCJyYW5kb20iLCJ5U2FtcGxlIiwia2V5RG93biIsImUiLCJrZXlDb2RlIiwia2V5VXAiLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiJBQUVBQSxRQUFRLENBQUNDLGdCQUFULENBQTBCLGtCQUExQixFQUE4QyxZQUFNO0FBQ2hELE1BQUlDLEtBQUosRUFBV0MsTUFBWCxFQUFtQkMsUUFBbkIsRUFBNkJDLE1BQTdCLEVBQXFDQyxTQUFyQztBQUNBLE1BQUlDLFFBQUosRUFBY0MsUUFBZDtBQUNBLE1BQUlDLEtBQUo7QUFDQSxNQUFJQyxRQUFRLEdBQUcsRUFBZjtBQUNBLE1BQUlDLEtBQUssR0FBRyxFQUFaO0FBQ0EsTUFBSUMsT0FBTyxHQUFHLENBQUMsQ0FBRCxFQUFJLENBQUMsQ0FBTCxFQUFRLENBQUMsR0FBVCxFQUFjLENBQUMsQ0FBZixFQUFrQixDQUFDLEdBQW5CLENBQWQ7QUFDQSxNQUFJQyxJQUFKOztBQUVBLE1BQU1DLElBQUksR0FBRyxTQUFQQSxJQUFPLEdBQU07QUFDZlosU0FBSyxHQUFHLElBQUlhLEtBQUssQ0FBQ0MsS0FBVixFQUFSLENBRGUsQ0FHZjs7QUFDQWIsVUFBTSxHQUFHLElBQUlZLEtBQUssQ0FBQ0UsaUJBQVYsQ0FBNEIsRUFBNUIsRUFBZ0MsT0FBSyxHQUFyQyxFQUEwQyxHQUExQyxFQUErQyxJQUEvQyxDQUFUO0FBQ0FkLFVBQU0sQ0FBQ2UsUUFBUCxDQUFnQkMsR0FBaEIsQ0FBb0IsQ0FBcEIsRUFBdUIsQ0FBdkIsRUFBMEIsQ0FBMUI7QUFDQVYsU0FBSyxHQUFHLENBQVIsQ0FOZSxDQU9mO0FBRUE7O0FBQ0EsUUFBTVcsS0FBSyxHQUFHLElBQUlMLEtBQUssQ0FBQ00s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O0FBR0FFLFFBQU0sQ0FBQ2hHLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DNEYsT0FBbkM7QUFDQUksUUFBTSxDQUFDaEcsZ0JBQVAsQ0FBd0IsT0FBeEIsRUFBaUMrRixLQUFqQztBQUVBbEYsTUFBSTtBQUNQLENBL09EIiwiZmlsZSI6Ii4vZ2FtZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgdmFyIHNjZW5lLCBjYW1lcmEsIHJlbmRlcmVyLCBwbGF5ZXIsIHNwb3RMaWdodDtcbiAgICB2YXIgcGxheWVyRFksIHBsYXllckRYO1xuICAgIHZhciBmcmFtZTtcbiAgICB2YXIga2V5Ym9hcmQgPSB7fTtcbiAgICB2YXIgY3ViZXMgPSBbXTtcbiAgICB2YXIgeUxldmVscyA9IFswLCAtMSwgLTEuNSwgLTIsIC0yLjVdO1xuICAgIHZhciBnYW1lO1xuICAgIFxuICAgIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG5cbiAgICAgICAgLy9DQU1FUkFcbiAgICAgICAgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDUwLCAxMjAwLzcyMCwgMC4xLCAxMDAwKTtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnNldCgwLCA1LCA1KTtcbiAgICAgICAgZnJhbWUgPSAwO1xuICAgICAgICAvL0NBTUVSQVxuXG4gICAgICAgIC8vUExBWUVSXG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDAuNSwgMC41LCAwLjUpO1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweEZGMDAwMH0pO1xuICAgICAgICBwbGF5ZXIgPSBuZXcgVEhSRUUuTWVzaChzaGFwZSwgbWF0ZXJpYWwpO1xuICAgICAgICBwbGF5ZXIucG9zaXRpb24uc2V0KDAsIC0xLjUsIDApO1xuICAgICAgICBwbGF5ZXIuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgIHBsYXllci5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgc2NlbmUuYWRkKHBsYXllcik7XG4gICAgICAgIC8vUExBWUVSXG4gICAgICAgXG5cbiAgICAgICAgY29uc3QgZmxvb3IgPSBuZXcgVEhSRUUuTWVzaChcbiAgICAgICAgICAgIG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDE1LCAyNTApLCBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhDOEM4QzggfSlcbiAgICAgICAgKTtcbiAgICAgICAgZmxvb3Iucm90YXRpb24ueCAtPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgZmxvb3IucG9zaXRpb24uc2V0KDAsIC0zLjEsIDApO1xuICAgICAgICBmbG9vci5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgZmxvb3IuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgIHNjZW5lLmFkZChmbG9vcik7XG5cblxuICAgICAgICBjb25zdCByaWdodFdhbGwgPSBuZXcgVEhSRUUuTWVzaChcbiAgICAgICAgICAgIG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDE1LCAyNTApLCBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZmZmZmYsIHdpcmVmcmFtZTogZmFsc2V9KVxuICAgICAgICApO1xuICAgICAgICByaWdodFdhbGwucm90YXRpb24ueCAtPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgcmlnaHRXYWxsLnJvdGF0aW9uLnkgLT0gTWF0aC5QSSAvIDI7XG4gICAgICAgIHJpZ2h0V2FsbC5wb3NpdGlvbi5zZXQoNywgLTIsIDApO1xuICAgICAgICByaWdodFdhbGwucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICAgIHJpZ2h0V2FsbC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgc2NlbmUuYWRkKHJpZ2h0V2FsbCk7XG5cblxuICAgICAgICBjb25zdCBsZWZ0V2FsbCA9IG5ldyBUSFJFRS5NZXNoKFxuICAgICAgICAgICAgbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMTUsIDI1MCksIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweEM4QzhDOCwgd2lyZWZyYW1lOiBmYWxzZX0pXG4gICAgICAgICk7XG4gICAgICAgIGxlZnRXYWxsLnJvdGF0aW9uLnggLT0gTWF0aC5QSSAvIDI7XG4gICAgICAgIGxlZnRXYWxsLnJvdGF0aW9uLnkgKz0gTWF0aC5QSSAvIDI7XG4gICAgICAgIGxlZnRXYWxsLnBvc2l0aW9uLnNldCgtNywgLTIsIDApO1xuICAgICAgICBsZWZ0V2FsbC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgbGVmdFdhbGwuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgIHNjZW5lLmFkZChsZWZ0V2FsbCk7XG5cblxuXG4gICAgICAgIGxldCBhbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAxLCAwLCAwLjEsIDAsIDEpO1xuICAgICAgICBzY2VuZS5hZGQoYW1iaWVudExpZ2h0KTtcblxuICAgICAgICBzcG90TGlnaHQgPSBuZXcgVEhSRUUuU3BvdExpZ2h0KDB4ZmZmZmZmLCA1MCwgMCwgMC4zLCAwLCAxKTtcbiAgICAgICAgc3BvdExpZ2h0LnBvc2l0aW9uLnNldCgwLCA1LCAxNSk7XG4gICAgICAgIFxuICAgICAgICBzcG90TGlnaHQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgIHNwb3RMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDEwMjQ7XG4gICAgICAgIHNwb3RMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0O1xuXG5cblxuICAgICAgICBzcG90TGlnaHQuc2hhZG93LmNhbWVyYS5uZWFyID0gMC4wO1xuICAgICAgICBzcG90TGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSAtNDAwMDtcblxuICAgICAgICBzcG90TGlnaHQubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKDAsIDUsIDApKTtcblxuICAgICAgICBzY2VuZS5hZGQoc3BvdExpZ2h0KTtcblxuICAgICAgICBwbGF5ZXJEWSA9IDA7XG4gICAgICAgIHBsYXllckRYID0gMDtcbiAgICAgICAgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgICAgICByZW5kZXJlci5zZXRTaXplKDEyMDAsIDcyMCk7XG4gICAgICAgIHJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICAgICAgYW5pbWF0ZSgpO1xuXG4gICAgICAgIFxuXG4gICAgfSAgIFxuXG4gICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBpZiAocGxheWVyLnBvc2l0aW9uLnkgPCAtMykge1xuICAgICAgICAgICAgcGxheWVyLnBvc2l0aW9uLnkgPSAtMi4zO1xuICAgICAgICB9XG4gICAgICAgIGlmKGtleWJvYXJkWzM3XSkgeyAvL0xFRlRcbiAgICAgICAgICAgIGlmKHBsYXllci5wb3NpdGlvbi54ID49IC02KSB7XG4gICAgICAgICAgICAgICAgcGxheWVyRFggLT0gMC4wMjU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleWJvYXJkWzM5XSkgeyAvL1JJR0hUXG4gICAgICAgICAgICBpZiAocGxheWVyLnBvc2l0aW9uLnggPD0gNikge1xuICAgICAgICAgICAgICAgIHBsYXllckRYICs9IDAuMDI1O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlib2FyZFszOF0pIHsgLy9VUFxuICAgICAgICAgICAgaWYgKHBsYXllci5wb3NpdGlvbi55IDw9IDEpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIucG9zaXRpb24ueSArPSAwLjM7XG4gICAgICAgICAgICAgICAgcGxheWVyRFkgPSAwLjE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleWJvYXJkWzQwXSkgeyAvL0RPV05cbiAgICAgICAgICAgIGlmIChwbGF5ZXIucG9zaXRpb24ueSA+PSAtMi41KSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCsrZnJhbWUgJSAxMCA9PSAwKSB7XG4gICAgICAgICAgICByZW5kZXJOZXdDdWJlKCk7XG4gICAgICAgICAgICByZW5kZXJOZXdDdWJlKCk7XG4gICAgICAgICAgICByZW5kZXJCYXIoKTtcbiAgICAgICAgfVxuXG5cblxuXG5cblxuICAgICAgICBwbGF5ZXJEWSAtPSAwLjAwOTtcbiAgICAgICAgcGxheWVyRFggKj0gMC45O1xuICAgICAgICBpZiAocGxheWVyLnBvc2l0aW9uLnkgPj0gLTIuNSkge1xuICAgICAgICAgICAgcGxheWVyLnBvc2l0aW9uLnkgKz0gcGxheWVyRFk7XG4gICAgICAgIH1cbiAgICAgICAgcGxheWVyLnBvc2l0aW9uLnggKz0gcGxheWVyRFg7XG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi54ID0gcGxheWVyLnBvc2l0aW9uLnggKiAwLjQ7XG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi55ID0gcGxheWVyLnBvc2l0aW9uLnkgKiAwLjQgOyAgICAgICAgXG5cblxuICAgICAgICAvLyBjb25zdCBwbGF5ZXJQb3MgPSBwbGF5ZXIucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgLy8gY29uc3QgcGxheWVyWFJhbmdlID0gWyhwbGF5ZXIuZ2VvbWV0cnkudmVydGljZXNbMF0ueCArIHBsYXllclBvcy54KSwgKHBsYXllci5nZW9tZXRyeS52ZXJ0aWNlc1s0XS54ICsgcGxheWVyUG9zLngpXTtcbiAgICAgICAgLy8gY29uc3QgcGxheWVyWVJhbmdlID0gWyhwbGF5ZXIuZ2VvbWV0cnkudmVydGljZXNbMF0ueSArIHBsYXllclBvcy55KSwgKHBsYXllci5nZW9tZXRyeS52ZXJ0aWNlc1syXS55ICsgcGxheWVyUG9zLnkpXTtcbiAgICAgICAgLy8gY29uc3QgcGxheWVyWlJhbmdlID0gWyhwbGF5ZXIuZ2VvbWV0cnkudmVydGljZXNbMF0ueiArIHBsYXllclBvcy56KSwgKHBsYXllci5nZW9tZXRyeS52ZXJ0aWNlc1sxXS56ICsgcGxheWVyUG9zLnopXTtcblxuICAgICAgICBnYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuXG5cbiAgICAgICAgY3ViZXMuZm9yRWFjaCggY3ViZSA9PiB7XG4gICAgICAgICAgICBpZihjdWJlLnBvc2l0aW9uLnogPj0gNSkge1xuICAgICAgICAgICAgICAgIHNjZW5lLnJlbW92ZShjdWJlKTtcblxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IGN1YmVQb3MgPSBjdWJlLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgY3ViZVZlcnRQb3MgPSBjdWJlLmdlb21ldHJ5LnZlcnRpY2VzLm1hcCggdmVydGV4ID0+IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgdmVydGV4LnggKz0gY3ViZVBvcy54O1xuICAgICAgICAgICAgICAgIC8vICAgICB2ZXJ0ZXgueSArPSBjdWJlUG9zLnk7XG4gICAgICAgICAgICAgICAgLy8gICAgIHZlcnRleC56ICs9IGN1YmVQb3MuejtcbiAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICAvLyBkZWJ1Z2dlclxuICAgICAgICAgICAgICAgIC8vIGN1YmVWZXJ0UG9zLmZvckVhY2godmVydGV4ID0+IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmVydGV4LnggPiBwbGF5ZXJYUmFuZ2VbMF0gJiYgdmVydGV4LnggPCBwbGF5ZXJYUmFuZ2VbMV0gXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAmJlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmVydGV4LnkgPiBwbGF5ZXJZUmFuZ2VbMF0gJiYgdmVydGV4LnkgPCBwbGF5ZXJZUmFuZ2VbMV1cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICYmXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB2ZXJ0ZXgueiA+IHBsYXllclpSYW5nZVswXSAmJiB2ZXJ0ZXgueiA8IHBseWFlclpSYW5nZVsxXVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgYWxlcnQoXCJnYW1lIG92ZXJcIik7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gfSk7XG5cblxuICAgICAgICAgICAgICAgIGN1YmUucG9zaXRpb24ueiArPSAwLjU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBvcmlnaW5Qb2ludCA9IHBsYXllci5wb3NpdGlvbi5jbG9uZSgpO1xuXG4gICAgICAgIGZvciAobGV0IHZlcnRleEluZGV4ID0gMDsgdmVydGV4SW5kZXggPCBwbGF5ZXIuZ2VvbWV0cnkudmVydGljZXMubGVuZ3RoOyB2ZXJ0ZXhJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZlcnRleCA9IHBsYXllci5nZW9tZXRyeS52ZXJ0aWNlc1t2ZXJ0ZXhJbmRleF0uY2xvbmUoKTtcbiAgICAgICAgICAgIGNvbnN0IGdsb2JhbFZlcnRleCA9IGxvY2FsVmVydGV4LmFwcGx5TWF0cml4NChwbGF5ZXIubWF0cml4KTtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvblZlY3RvciA9IGdsb2JhbFZlcnRleC5zdWIocGxheWVyLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHJheSA9IG5ldyBUSFJFRS5SYXljYXN0ZXIob3JpZ2luUG9pbnQsIGRpcmVjdGlvblZlY3Rvci5jbG9uZSgpLm5vcm1hbGl6ZSgpKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvblJlc3VsdHMgPSByYXkuaW50ZXJzZWN0T2JqZWN0cyhjdWJlcyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjb2xsaXNpb25SZXN1bHRzLmxlbmd0aCA9PT0gMSAmJiBjb2xsaXNpb25SZXN1bHRzWzBdLmRpc3RhbmNlIDwgZGlyZWN0aW9uVmVjdG9yLmxlbmd0aCgpKSB7XG4gICAgICAgICAgICAgICAgZGVidWdnZXJcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShnYW1lKTtcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25SZXN1bHRzWzBdLm9iamVjdC5tYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29sbGlzaW9uUmVzdWx0c1swXS5vYmplY3QubWF0ZXJpYWwub3BhY2l0eSA9IDAuNDtcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25SZXN1bHRzWzBdLm9iamVjdC5tYXRlcmlhbC5jb2xvci5zZXRIZXgoMHhGRjAwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgICAgIFxuICAgIH1cblxuICAgIGNvbnN0IHJlbmRlck5ld0N1YmUgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwgMSwgMSk7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4ZmZmZmZmIH0pO1xuICAgICAgICBjb25zdCBib3ggPSBuZXcgVEhSRUUuTWVzaChzaGFwZSwgbWF0ZXJpYWwpO1xuICAgICAgICBjdWJlcy5wdXNoKGJveCk7XG4gICAgICAgIGNvbnN0IHhDb3JkID0gKE1hdGgucmFuZG9tKCkgKiAxMikgLSA2O1xuICAgICAgICBjb25zdCB5U2FtcGxlID0geUxldmVsc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB5TGV2ZWxzLmxlbmd0aCldO1xuICAgICAgICBib3gucG9zaXRpb24uc2V0KHhDb3JkLCB5U2FtcGxlLCAtNTApO1xuICAgICAgICBib3guY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgIGJveC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgc2NlbmUuYWRkKGJveCk7XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlckJhciA9ICgpID0+IHtcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPj0gMC45NSkge1xuICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTAsIDEsIDEpO1xuICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZmZmZmYgfSk7XG4gICAgICAgICAgICBjb25zdCBib3ggPSBuZXcgVEhSRUUuTWVzaChzaGFwZSwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgY3ViZXMucHVzaChib3gpO1xuICAgICAgICAgICAgY29uc3QgeVNhbXBsZSA9IHlMZXZlbHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogeUxldmVscy5sZW5ndGgpXTtcbiAgICAgICAgICAgIGNvbnN0IHhDb3JkID0gKE1hdGgucmFuZG9tKCkgKiAxMikgLSA2O1xuICAgICAgICAgICAgYm94LnBvc2l0aW9uLnNldCh4Q29yZCwgeVNhbXBsZSwgLTUwKTtcbiAgICAgICAgICAgIGJveC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIGJveC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNjZW5lLmFkZChib3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qga2V5RG93biA9IChlKSA9PiB7XG4gICAgICAgIGtleWJvYXJkW2Uua2V5Q29kZV0gPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBrZXlVcD0gKGUpID0+IHtcbiAgICAgICAga2V5Ym9hcmRbZS5rZXlDb2RlXSA9IGZhbHNlO1xuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleURvd24pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGtleVVwKTtcblxuICAgIGluaXQoKTtcbn0pIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./game.js\n");

/***/ })

/******/ });